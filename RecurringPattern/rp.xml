<?xml version="1.0" encoding="UTF-8"?>
<info>
    <text>
        <title>
            Goal of the study: to find out how humans perceive Recurring Pattern (RP) in real world scenes
        </title>
    
        <rp-tutorial>
            <![CDATA[ 
            Need a refresher on "<b>Recurring Pattern</b>"?
            Click here:
            <a href="https://psu-lpac.github.io/Sym-RP-Data-Collection/RecurringPattern/Tutorial/tutorial.html" target="_blank">
                Understanding Recurring Pattern
            </a>
            ]]>
        </rp-tutorial>

        <rp-instruction>
            <![CDATA[ 
            <ol>
                <li> Label every <b>Recurring Pattern (RP)</b> you <b>perceive</b> on each image.</li>
    
                <li>
                    For each <b>RP</b> you perceived:
                    <ul>
                        <li>
                            First click the <b>Add</b> button. A new active <b>RP</b> button will appear.
                        </li>
                        <li>
                            Start labeling the perceived <b>RP
                                Instances</b> with either <b>Bounding Box</b> or
                                <b>Polygon</b> contour.
                        </li>
                    </ul>
    
                </li>
    
                <li>
                    Use the mouse scroll to zoom in/out on the image for more precise labeling.
                </li>
    
                <li>Click the <strong>Submit</strong> button or press <strong>ENTER</strong> to finish
                    current task.</li>
    
                <li> Buttons & Hotkeys:
                    <ol>
                        <li>
                            Click <strong>Add</strong> button or press 
                            <strong>A</strong> to add a new <b>RP</b>.
                        </li>
                        <li>
                            Click <strong>Remove</strong> button or press 
                            <strong>R</strong> to remove the selected <b>RP</b>.
                        </li>
                        <li>
                            Click <strong>Bbox/Polygon</strong> button or press
                            <strong>E</strong> to toggle between two labeling modes.
                            <ul>
                                <li>
                                    In <strong>Box</strong> mode, draw the bounding box of the <strong>RP instance</strong> by <b>holding down</b> left click.
                                </li>
                                <li>
                                    In <strong>Polygon</strong> mode, draw the contour of the <strong>RP instance</strong> by left clicks.
                                    Press <strong>C</strong> to close the polygon.
                                </li>
                            </ul>
                        </li>
                        <li>
                            Click <strong>Label/Deletion</strong> flip switch or press
                            <strong>D</strong> to toggle between labeling and deleting.
                        </li>
                        <li>
                            Click the <strong>Undo Last</strong> button or press <strong>CTRL+Z</strong>
                            to
                            undo last Annotation/Deletion.
                        </li>
    
                        <li>
                            Click the <strong>Reset View</strong> button or press
                            <strong>CTRL+X</strong> center the image and reset
                            zoom.
                        </li>
    
                        <li>
                            Click the <strong>Clear All</strong> button to clear all annotations.
                            <span style="color: red;"><strong>Warning:</strong> this action cannot be
                                recovered!</span>
                        </li>
    
                    </ol>
                </li>
            </ol>
            ]]>
        </rp-instruction>
    
        <rp-irb>
            This study is carried under The Pennsylvania State University (PSU) IRB STUDY00016169, and funded by National Science Foundation (NSF) grant 1909315.
        </rp-irb>
    
        <worker-info>
            <![CDATA[ 
            By completing this HIT, you understand that you are agreeing to participate in an experiment designed by researchers at The Pennsylvania State University and that you will remain anonymous. 
            Your participation is voluntary and you may stop the experiment at any time or choose to not answer any specific question. If you have any questions, concerns, or problems regarding the research, please contact Shimian Zhang at
            <a href="mailto:svz5303@psu.edu" target="_blank">svz5303@psu.edu</a>
            or Dr. Yanxi Liu at
            <a href="mailto:yul11@psu.edu" target="_blank">yul11@psu.edu</a>
            . 
            If you have any other questions, concerns, or problems specifically regarding your rights as a research participant, please contact The Pennsylvania State University's Office for Research Protections
            (ORP) at (814) 865-1775.
            ]]>
        </worker-info>

        <rp-definition>
            <![CDATA[ 
            A <b>Recurring Pattern (RP)</b> is a set of visual entities that recur within an image.
            The non-identical yet similar visual elements comprising an <b>RP</b> are named <b>RP Instances</b>.
            Each <b>RP</b> consists of two or more similar <b>RP Instances</b>.
                
            ]]>
        </rp-definition>

        <!-- <rp-definition>
            <![CDATA[ 
            A <b>Recurring Pattern (RP)</b> is an ensemble of similar yet not necessarily identical <b>RP Instances</b> in an image.
            <br>
            The term of <b>RP Instance</b> refers to a visual area which distinctive features that could be undoubtedly grouped or segmented together. 
            Each <b>RP</b> consists of two or more similar RP Instances.
            ]]>
        </rp-definition> -->

        <rp-example-illustration>
            <![CDATA[ 
            <ul>
                <li>
                    The two <span style="color: red;"><b>RP Instances</b></span> of <span style="color: red;"><b>Recurring Pattern A</b></span>  have scaling variations.
                </li>     
                <br>
                <li>
                    The three <span style="color: green;"><b>RP Instances</b></span> of <span style="color: green;"><b>Recurring Pattern B</b></span> have scaling, shearing and color variations.
                </li>  
                <br>
                <li>
                    Finally, the ONE <span style="color: orange;"><b>moom-shape pattern</b></span> of <span style="color: orange;"><b>C</b></span> CANNOT be viewed be viewed as a <b>Recurring Pattern</b>, because it doesn't contain two or more similar RP Instances.
                </li>  
            </ul>
            ]]>

        </rp-example-illustration>

        <!-- <rp-example-illustration>
            <![CDATA[ 
            <ul>
                <li>
                    The three similar <span style="color: red;"><b>sun-shape RP Instances</b></span> could be grouped as a <span style="color: red;"><b>Recurring Pattern</b></span>, even with scaling, rotation, shearing and color variations.
                </li>
                <li>
                    Correspondingly, the two similar <span style="color: green;"><b>thunder-shape RP Instances</b></span> could be grouped as another <span style="color: green;"><b>Recurring Pattern</b></span>.
                </li>
                <li>
                    Finally, the ONE <span style="color: orange;"><b>moon-shape</b></span> pattern CANNOT be viewed as a <b>Recurring Pattern</b>, because it doesn't contain two or more similar RP Instances.
                </li>
            </ul>
            ]]>

        </rp-example-illustration> -->

        <task-description>
            <![CDATA[ 
            For this task, you will need to:
            <ul>
                <li> 
                    Familiarize yourself with Recurring Pattern Labeling (if this is your first time): 
                    <ul>
                        <li>
                            Read through the Understanding Recurring Pattern Tutorial.
                        </li>
                        <li>
                            Pass a quick test (label 1 sample image) on Recurring Pattern Labeling.
                        </li>
                        <li>
                            Complete a short background survey with your <b>WorkerID</b>.
                        </li>
                    </ul>
                </li>

                <li>
                    Label <span class="num-imgs" style="font-weight: bold;"></span> images.
                </li>
            </ul>
            This task may take you <span class="min-time" style="font-weight: bold;"></span> - <span class="max-time" style="font-weight: bold;"></span> minutes to complete.
            <br>
            You may choose to skip <b>at most</b> <span class="num-imgs" style="font-weight: bold;"></span> images, but skipped images are not counted towards the labeled images. 
            <br>
            You will receive a <span style="color:blue; font-weight: bold;">basic reward</span> of $<span class="basic-reward" style="font-weight: bold;"></span> for the completion of the task, and at most a <span style="color:red;font-weight: bold;">bonus reward</span> of $<span class="bonus-reward" style="font-weight: bold;"></span> based on the number of labeled images ($<span class="per-reward" style="font-weight: bold;"></span> per labeled image). 
            <br>
            You may do this Recurring Pattern labeling HIT <b>ONLY</b> once.
            ]]>
        </task-description>

        <final-congrats>
            <![CDATA[ 
            Thank you for your interest in the study. 
            <br>
            You have labeled <span class="valid-num" style="font-weight: bold;"></span> images making a <span style="color:blue; font-weight: bold;">basic reward</span> of $<span class="basic-reward" style="font-weight: bold;"></span>, and a <span style="color:red;font-weight: bold;">bonus reward</span> of $<span class="real-bonus-reward" style="font-weight: bold;"></span>
            ]]>
        </final-congrats>
    </text>
    
    <alerts>
        <warning-msg>
            <![CDATA[ 
            During <strong>Preview</strong>, if no perceived Recurring Patterns are found, you can
            <strong>SKIP</strong> this image.
            <br>
            To get <strong>HIT approved</strong> properly, make sure you have seen this
            tutorial <a href="https://psu-lpac.github.io/Sym-RP-Data-Collection/RecurringPattern/Tutorial/definition.html" target="_blank">
                Understanding Recurring Pattern</a> AND submit your <strong>WorkerID</strong> through the background
            survey.
            ]]>
        </warning-msg>
    
        <warning-no-rp>
            <![CDATA[ 
            No <b>RP</b> selected. Please click the <b>Add</b> button first!
            ]]>
        </warning-no-rp>
    </alerts>

    

    <buttons>
        <add_rp_button>
            <caption>
                <![CDATA[ 
                Add <b>RP</b>
                ]]>
            </caption>
            <tooltip>
                <![CDATA[ 
                Add a new Recurring Pattern 
                <br>
                (Hotkey: <b>A</b>)
                ]]>
            </tooltip>
        </add_rp_button>

        <remove_rp_button>
            <caption>
                <![CDATA[ 
                Remove <b>RP</b>
                ]]>
            </caption>
            <tooltip>
                <![CDATA[ 
                Remove the selected Recurring Pattern 
                <br>
                (Hotkey: <b>R</b>)   
                ]]>          
            </tooltip>

        </remove_rp_button>

        

        <box_button>
            <caption>
                <![CDATA[ 
                <i class="bi bi-square"></i> Box
                ]]>
            </caption>
            <tooltip>
                <![CDATA[ 
                Box mode draws the bounding box of the RP instance by holding down left click. 
                <br>
                (Toggle Hotkey: <b>E</b>) 
                ]]>     
            </tooltip>
        </box_button>
    
        <polygon_button>
            <caption>
                <![CDATA[ 
                <i class="bi bi-heptagon"></i> Polygon
                ]]>
            </caption>
            <tooltip>
                <![CDATA[ 
                Polygon mode draws the contour of the RP instance by left clicks. 
                <br>
                Press <b>C</b> to close polygon in polygon mode.    
                (Toggle Hotkey: <b>E</b>) 
                ]]>   
            </tooltip>
        </polygon_button>

        <annotate_button>
            <caption>
                Label RP Instance
            </caption>
            <tooltip>
                <![CDATA[ 
                Label a New RP Instance 
                <br>
                (Toggle Hotkey: <b>D</b>)  
                ]]>   
            </tooltip>
        </annotate_button>

        <delete_button>
            <caption>
                Delete RP Instance
            </caption>
            <tooltip>
                <![CDATA[ 
                Delete an Existing RP Instance
                <br>
                (Toggle Hotkey: <b>D</b>)  
                ]]>   
            </tooltip>
        </delete_button>

        <undo_button>
            <caption>
                Undo Last 
            </caption>
            <tooltip>
                <![CDATA[ 
                Undo last Annotation/Deletion
                <br>
                (Hotkey: <b>CTRL+Z</b>)  
                ]]>   
            </tooltip>
        </undo_button>

        <reposition_button>
            <caption>
                Reset View
            </caption>
            <tooltip>
                <![CDATA[ 
                Reset View Scale After Zooming-In
                <br>
                (Hotkey: <b>CTRL+X</b>)  
                ]]>   
            </tooltip>
        </reposition_button>

        <reset_button>
            <caption>
                Clear All
            </caption>
            <tooltip>
                Clear All Annotations
            </tooltip>
        </reset_button>

        <submit>
            <caption>
                Submit
            </caption>
            <tooltip>
                <![CDATA[ 
                Click here to submit your labeling
                <br>
                (Hotkey: <b>ENTER</b>)  
                ]]>   
            </tooltip>
        </submit>

        <skip>
            <caption>
                Skip
            </caption>
            <tooltip>
                Skip the current Image if no perceived RPs are found.
            </tooltip>

        </skip>
    </buttons>

    <url>
        <rp-root-url>.</rp-root-url>

        <tutorial-url>https://psu-lpac.github.io/Sym-RP-Data-Collection/RecurringPattern/Tutorial/tutorial.html</tutorial-url>

        <survey-url>https://forms.gle/PMp27C7eicHJh2hU6</survey-url>
    </url>

    <figures>
        <rp-examples>
            <item>
                <url>/figures/examples/new027_label.gif</url>
                <caption>An RP consist of 4 eagle instances.</caption>
            </item>

            <item>
                <url>/figures/examples/new705_label.gif</url>
                <caption>An RP consist of 9 Pipa (a musical instrument) instances.</caption>
            </item>

            <item>
                <url>/figures/examples/new653_label.gif</url>
                <caption>An RP consist of multiple parachute instances.</caption>
            </item>

            <item>
                <url>/figures/examples/new632_label.gif</url>
                <caption>An RP consist of multiple Micky instances.</caption>
            </item>

            <item>
                <url>/figures/examples/new789_label.gif</url>
                <caption>An RP consist of 6 painting instances <b>from a projective view</b></caption>
            </item>

            <item>
                <url>/figures/examples/new036_label.gif</url>
                <caption><b>Two</b> RPs consist of two different types of products.</caption>
            </item>
        </rp-examples>
    </figures>
    
    <test-info>
        <test-1>
            <test-title>
                <![CDATA[ 
                Test-1: Label <span style="color:red">ONE</span> Recurring Pattern with <span style="color:red">FOUR</span> RP Instances you perceive on this image.
                ]]>

            </test-title>

            <test-img-url>figures/test_images/new027.jpg</test-img-url>

            <gt>[0.5754455383848455, 0.4178809032983508]</gt>
        </test-1>
    </test-info>
    
</info>